<div class="d-flex" id="wrapper">
  <!-- Sidebar -->
  <div class="bg-light border-right" id="sidebar-wrapper">
    <div class="sidebar-heading"><img src="./../../assets/img/freshbuy_logo.png" width="60%" style="padding-left: 5%;padding-top: 7%;"/></div>
    <div class="list-group list-group-flush">
      <a class="list-group-item list-group-item-action bg-light">Gestión de Productores</a>
      <a href="./affiliationManagement" class="list-group-item list-group-item-action bg-light">Administración de Afiliaciones</a>
      <a class="list-group-item list-group-item-action bg-light" (click) = "updateCategories()">Gestión de Categorías</a>
      <a href="./reportView" class="list-group-item list-group-item-action bg-light">Vista de Reportes</a>
      <a class="list-group-item list-group-item-action bg-light" (click)="openModal(close_this)">Cerrar Sesión</a>
    </div>
    <div class="sidebar-footer" style="padding-bottom: 0%; padding-top: 30%; padding-left: 1%; position: fixed;">
      <h5>FreshBuy - Vista de Administración <br>github.com/ce-itcr/FreshBuy<br><b>Versión 1.0.0</b></h5>
    </div>

  </div>
  <!-- /#sidebar-wrapper -->
  <!-- Page Content -->
  <div id="page-content-wrapper">
    <nav class="navbar navbar-expand-lg navbar-light bg-light">
      <button class="btn btn-primary-2" id="menu-toggle">Menú</button>
    </nav>
    <div class="container-fluid">
      <h1 class="mt-4">Gestión de Productores </h1>

      <button mat-raised-button (click)="openModal(create_producer_modal)"> Crear Productor </button>
      <button mat-raised-button (click)="openModal(delete_producer_modal)"> Eliminar Productor </button>
      <button mat-raised-button (click)="openModal(update_producer_modal)"> Actualizar Productor </button>

      <br><br>

      <app-clients-data-table></app-clients-data-table>

    </div>
  </div>
  <!-- /#page-content-wrapper -->
</div>
<!-- /#wrapper -->

<ng-template #close_this let-modal>
  <div class="modal-header">
      <h4 class="modal-title">¿Seguro que desea salir?</h4>
  </div>
  <div class="modal-body">
    Somos una Feria Virtual que conecta los agricultores con consumidores, llevando productos frescos del campo hasta tu casa.
</div>
  <div class="modal-footer">
      <button type="button" class="btn btn-success" (click)="modal.close()" [routerLink]='["/"]'>Si</button>
      <button type="button" class="btn btn-outline-danger" (click)="modal.close()">No</button>
  </div>
</ng-template>


<ng-template #create_producer_modal let-modal>
  <div class="modal-header">
      <h4 class="modal-title">Añadir un nuevo productor.</h4>
  </div>
  <div class="modal-body" style="justify-content: center;align-items: center;display: inline-block;vertical-align: middle;padding-left: 25%;">
    <form>
      <input #person_id type="number" placeholder="Id de Productor">
      <input #name type="text" placeholder="Nombre de Productor">
      <input #last_name type="text" placeholder="Apellido de Categoria">
      <input #province type="text" placeholder="Provincia">
      <input #canton type="text" placeholder="Cantón">
      <input #district type="text" placeholder="Distrito">
      <input #birth_date type="date" placeholder="Fecha de Nacimiento">
      <input #phone_number type="number" placeholder="Número de Telefono">
      <input #sinpe_number type="number" placeholder="Número Sinpe">
      <input #delivery_locations type="text" placeholder="Lugares de Entrega">
      <input #password type="text" placeholder="Contraseña">

    </form>
  </div>
  <div class="modal-footer">
      <button type="button" class="btn btn-success" (click)="create_producer(person_id.value, name.value, last_name.value, province.value, canton.value, district.value, birth_date, phone_number.value, sinpe_number.value,
                                                                             delivery_locations.value, password.value)" (click)="modal.close()">Añadir</button>
      <button type="button" class="btn btn-outline-danger" (click)="modal.close()">Cancelar</button>
  </div>
</ng-template>



<ng-template #delete_producer_modal let-modal>
  <div class="modal-header">
      <h4 class="modal-title">Eliminar un producto de su bodega digital.</h4>
  </div>
  <div class="modal-body" style="justify-content: center;align-items: center;display: inline-block;vertical-align: middle;padding-left: 25%;">
    <form>
      <input #product_id type="number" placeholder="Id de Productor">
    </form>
  </div>
  <div class="modal-footer">
      <button type="button" class="btn btn-success" (click)="delete_producer(product_id.value)" (click)="modal.close()">Eliminar</button>
      <button type="button" class="btn btn-outline-danger" (click)="modal.close()">Cancelar</button>
  </div>
</ng-template>


<ng-template #update_producer_modal let-modal>
  <div class="modal-header">
      <h4 class="modal-title">Actualizar un productor.</h4>
  </div>
  <div class="modal-body" style="justify-content: center;align-items: center;display: inline-block;vertical-align: middle;padding-left: 25%;">
    <form>
      <input #person_id type="number" placeholder="Id de Productor">
      <input #name type="text" placeholder="Nombre de Productor">
      <input #last_name type="text" placeholder="Apellido de Categoria">
      <input #province type="text" placeholder="Provincia">
      <input #canton type="text" placeholder="Cantón">
      <input #district type="text" placeholder="Distrito">
      <input #birth_date type="date" placeholder="Fecha de Nacimiento">
      <input #phone_number type="number" placeholder="Número de Telefono">
      <input #sinpe_number type="number" placeholder="Número Sinpe">
      <input #delivery_locations type="text" placeholder="Lugares de Entrega">
      <input #password type="text" placeholder="Contraseña">

    </form>
  </div>
  <div class="modal-footer">
      <button type="button" class="btn btn-success" (click)="update_producer(person_id.value, name.value, last_name.value, province.value, canton.value, district.value, birth_date.value, phone_number.value, sinpe_number.value,
                                                                             delivery_locations.value, password.value)" (click)="modal.close()">Actualizar</button>
      <button type="button" class="btn btn-outline-danger" (click)="modal.close()">Cancelar</button>
  </div>
</ng-template>


